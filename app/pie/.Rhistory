a[i]=j
}
}
}
data<-read.csv("~/shiny12_3/shinny/Histogram/simple2.csv")
len<-length(data$type)
charat<-unique(data$type)###遍历出type中的不同类型
a<-data.frame()
for (i in len){
for(j in length(charat)){
if (data$type[i]==charat[j]){
a[i]=j
}
}
}
for (i in len){
for(j in length(charat)){
if (data$type[i]==charat[j]){
a[i]<-as.numeric(j)
}
}
}
a[1]<-1
a[1]<-"1"
a<-NULL
a[1]<-1
a[2]<-2
for (i in len){
for(j in length(charat)){
if (data$type[i]==charat[j]){
a[i]<-as.numeric(j)
}
}
}
for (i in len){
for(j in length(charat)){
if (data$type[i]==charat[j]){
a[i]<-j
}else{a[i]<-NULL}
}
}
for (i in len){
for(j in length(charat)){
if (data$type[i]==charat[j]){
a[i]<-j
}else{a[i]<-0}
}
}
data$type[1]==charat[1]
data$type[16]==charat[1]
a[1]<-22
for(j in length(charat)){
print(j)
}
for (i in 1:len){
for(j in 1:length(charat)){
if (data$type[i]==charat[j]){
a[i]<-j
}
}
}
data<-data.frame(data,a)
View(data)
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
legend("topright",label, cex=0.8, fill=terrain.colors(length(x)))
legend("topright",label, fill=terrain.colors(length(x)))
legend("topright",label, cex=0.5, fill=terrain.colors(length(x)))
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
legend("topright",label, cex=0.5, fill=terrain.colors(length(x)))
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 2)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
legend("topright",label, cex=0.5, fill=terrain.colors(length(x)))
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 3)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
legend("topright",label, cex=0.5, fill=terrain.colors(length(x)))
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
legend("topright",label, cex=0.5, fill=terrain.colors(length(x)))
?pie
x <-c(10,20,30,40,50)
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(piepercent, "%", sep = "")
pie(x,labels=piepercent, main="City pie chart",col= length(x))
?colmetanames
?col
?terrain.colors
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
legend("topright",label, cex=0.5, fill=rain.colors(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
legend("topright",label, cex=0.5, fill=rainbow(length(x)))
data<-read.csv('~/shiny12_3/shinny/pie/defult.csv')
View(data)
x<-data[,1]
label<-data[,2]
piepercent<-round(100*x/sum(x), 1)
x<-c(data[,1])
piepercent<-round(100*x/sum(x), 1)
x<-c(data[,2])
label<-data[,1]
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(piepercent, "%", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
legend("topright",label, cex=0.5, fill=rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
legend("topright",label, cex=0.1, fill=rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
legend("topright",label, cex=0.1, fill=rainbow(length(x)))
piepercent <-paste(label,piepercent, "%", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
piepercent <-paste(label,piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
data<-read.csv('~/shiny12_3/shinny/pie/defult.csv')
x<-c(data[,2])
label<-data[,1]
label <-c("Alabama", "Alaska", "Arizona","Arkansas", "California")
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
# legend("topright",label, cex=0.1, fill=ra
data<-read.csv('~/shiny12_3/shinny/pie/defult.csv')
x<-c(data[,2])
label<-data[,1]
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
# legend("topright",label, cex=0.1, fill=rainbow(length(x)))
data<-read.csv('~/shiny12_3/shinny/pie/defult.csv')
x<-c(data[,2])
label<-data[,1]
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
# legend("topright",label, cex=0.1, fill=rainbow(length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
# legend("topright",label, cex=0.1, fill=rainbow(length(x)))
theme(axis.text.labels =   element_text(angle=90,hjust = 1)
# pie(x,labels=piepercent, main="City pie chart",col= heat.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= topo.colors (length(x)))
# pie(x,labels=piepercent, main="City pie chart",col= cm.colors (length(x)))
##不同类型的调色板
# legend("topright",label, cex=0.1, fill=rainbow(length(x)))
theme(axis.text.labels =   element_text(angle=90,hjust = 1))
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))+theme(axis.text.labels =   element_text(angle=90,hjust = 1))
?pie
p<-ggplot(data,aes(x=x,y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p<-ggplot(data,aes(x=x,y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x=x,y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x=x,y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
# coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x=piepercent,y=x,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
# coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x=piepercent,y=x,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x=x,y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
# geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=mylabel)
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(y= cumsum(percent)-percent/2, x= 1),label=piepercent)
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
q
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
1
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(y= piepercent,label=piepercent))
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(label=piepercent))
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(y=piepercent))
p
p<-ggplot(data,aes(x='',y=piepercent,fill=label)) +
geom_bar(stat = "identity",color="white") +
# scale_fill_manual(values = c("#FFA533","#2BCF76","#4874EC","#A372E6")) +
coord_polar(theta = "y") +
theme(axis.text.x = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()) +
geom_text(aes(label=piepercent))
p
data<-read.csv('~/shiny12_3/shinny/pie/defult.csv')
x<-c(data[,2])
label<-data[,1]
piepercent<-round(100*x/sum(x), 1)
piepercent <-paste(label,'(',piepercent, "%)", sep = "")
p = ggplot(dt, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1) +
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = myLabel) +
theme(axis.text.x = element_blank())
library(ggplot2)
p = ggplot(dt, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1) +
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = myLabel) +
theme(axis.text.x = element_blank())
p = ggplot(dt, aes(x = "", y = x, fill = label))
p = ggplot(data, aes(x = "", y = x, fill = label))
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
View(data)
p = ggplot(data, aes(x = "", y = x, fill = label))
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y")
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "")
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank())
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top")
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = myLabel)
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank())
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
# theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank())
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank())
# geom_text(aes(y = A/2 + c(0, cumsum(A)[-length(A)]), x = sum(A)/20, label = myLabel), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank()) +
geom_text(aes(y = x/2 + c(0, cumsum(x)[-length(x)]), x = sum(x)/20, label = label), size = 5)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank()) +
geom_text(aes(y = x/2 + c(0, cumsum(x)[-length(x)]), x = sum(x)/20, label = label))   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank()) +
geom_text( label = label)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
p = ggplot(data, aes(x = "", y = x, fill = label)) +
geom_bar(stat = "identity", width = 1)+
coord_polar(theta = "y") +
labs(x = "", y = "", title = "") +
theme(axis.ticks = element_blank()) +
theme(legend.title = element_blank(), legend.position = "top") +
scale_fill_discrete(labels = label)+
theme(axis.text.x = element_blank()) +
geom_text( label = piepercent)   ## 在图中加上百分比：x 调节标签到圆心的距离, y 调节标签的左右位置
p
# pie(x,labels=piepercent, main="City pie chart",col= terrain.colors (length(x)))
# rainbow(),heat.colors(),terrain.colors(),topo.colors(),cm.color()
pie(x,labels=piepercent, main="City pie chart",col= rainbow(length(x)))
shiny::runApp('shiny12_3/shinny/pie')
