<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Internal vegan functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for vegan-internal {vegan}"><tr><td>vegan-internal {vegan}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Internal vegan functions</h2>

<h3>Description</h3>

<p>Internal vegan functions that are not intended to be called directly,
but only within other functions.
</p>


<h3>Usage</h3>

<pre>
ordiParseFormula(formula, data, xlev = NULL,  na.action = na.fail,
    subset = NULL, X)
ordiTerminfo(d, data)
ordiNAexclude(x, excluded)
ordiNApredict(omit, x)
ordiArgAbsorber(..., shrink, origin, scaling, triangular,
                display, choices, const, truemean, FUN)
centroids.cca(x, mf, wt)
getPermuteMatrix(perm, N, strata = NULL)
howHead(x, ...)
pasteCall(call, prefix = "Call:")
veganCovEllipse(cov, center = c(0, 0), scale = 1, npoints = 100)
veganMahatrans(x, s2, tol = sqrt(.Machine$double.eps))
hierParseFormula(formula, data)
GowerDblcen(x, na.rm = TRUE)
addLingoes(d)
addCailliez(d)
</pre>


<h3>Details</h3>

<p> The description here is only intended for <span class="pkg">vegan</span>
developers: these functions are not intended for users, but they
only should be used within functions.  In general, these functions
are not exported to the namespace, but you must use
<code><a href="../../base/html/get.html">get</a></code> or <code><a href="../../base/html/ns-dblcolon.html">:::</a></code> to directly call these
functions.
</p>
<p><code>ordiParseFormula</code> returns a list of three matrices (dependent
variables, and <code><a href="../../stats/html/model.matrix.html">model.matrix</a></code> of constraints and
conditions, possibly <code>NULL</code>) needed in constrained
ordination. Argument <code>xlev</code> is passed to
<code><a href="../../stats/html/model.frame.html">model.frame</a></code>. If the left-hand-side was already
evaluated in calling code, it can be given as argument <code>X</code> and
will not be re-evaluated. <code>ordiTermInfo</code> finds the term
information for constrained ordination as described in
<code><a href="../../vegan/help/cca.object.html">cca.object</a></code>. <code>ordiNAexclude</code> implements
<code>na.action = na.exclude</code> for constrained ordination finding WA
scores of CCA components and site scores of unconstrained component
from <code>excluded</code> rows of observations. Function
<code>ordiNApredict</code> pads the result object with these or with WA
scores similarly as <code><a href="../../stats/html/nafns.html">napredict</a></code>.
</p>
<p><code>ordiArgAbsorber</code> absorbs arguments of <code><a href="../../vegan/help/scores.html">scores</a></code>
function of <span class="pkg">vegan</span> so that these do not cause superfluous
warnings in graphical function <code>FUN</code>. If you implement
<code>scores</code> functions with new arguments, you should update
<code>ordiArgAbsorber</code>. 
</p>
<p><code>centroids.cca</code> finds the weighted centroids of variables.
</p>
<p><code>getPermuteMatrix</code> interprets user input and returns a
permutation matrix where each row gives indices of observations for
a permutation. The input <code>perm</code> can be a single number for the
number of simple permutations, a result of
<code><a href="../../permute/help/how.html">how</a></code> defining a permutation scheme or a
permutation matrix. Function <code>permuted.index</code> was used earlier
to generate permutations, but it is now deprecated.
</p>
<p><code>howHead</code> formats the permutation scheme of
<code><a href="../../permute/help/how.html">how</a></code> for display. The formatting is more
compact than the one used in <code>print</code> in the <span class="pkg">permute</span>
package, and shows only non-default choices. This output is normally
used when printing the results of <span class="pkg">vegan</span> permutations.
</p>
<p><code>pasteCall</code> prints the function call so that it is nicely wrapped
in <code><a href="../../utils/help/Sweave.html">Sweave</a></code> output.
</p>
<p><code>veganCovEllipse</code> finds the coordinates for drawing a
covariance ellipse.
</p>
<p><code>veganMahatrans</code> transforms data matrix so that its Euclidean
distances are Mahalanobis distances. The input data <code>x</code> must be
a matrix centred by columns, and <code>s2</code> its covariance matrix. If
<code>s2</code> is not given, covariance matrix is found from <code>x</code>
within the function.
</p>
<p><code>hierParseFormula</code> returns a list of one matrix (left hand side)
and a model frame with factors representing hierarchy levels 
(right hand side) to be used in <code><a href="../../vegan/help/adipart.html">adipart</a></code>, 
<code><a href="../../vegan/help/multipart.html">multipart</a></code> and <code><a href="../../vegan/help/hiersimu.html">hiersimu</a></code>.
</p>
<p><code>GowerDblcen</code> performs the Gower double centring of a matrix of
dissimilarities. Similar function was earlier available as a compiled
code in <span class="pkg">stats</span>, but it is not a part of official API, and
therefore we have this poorer replacement.
</p>
<p><code>addLingoes</code> and <code>addCailliez</code> find the constant added to
non-diagonal (squared) dissimilarities to make all eigenvalues
non-negative in Principal Co-ordinates Analysis
(<code><a href="../../vegan/help/wcmdscale.html">wcmdscale</a></code>, <code><a href="../../vegan/help/capscale.html">capscale</a></code>). Function
<code><a href="../../stats/html/cmdscale.html">cmdscale</a></code> implements the Cailliez method. The argument
is a matrix of dissimilarities.
</p>

<hr /><div style="text-align: center;">[Package <em>vegan</em> version 2.5-7 <a href="00Index.html">Index</a>]</div>
</div></body></html>
