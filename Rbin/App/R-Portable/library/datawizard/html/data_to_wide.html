<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Reshape (pivot) data from long to wide</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for data_to_wide {datawizard}"><tr><td>data_to_wide {datawizard}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Reshape (pivot) data from long to wide</h2>

<h3>Description</h3>

<p>This function &quot;widens&quot; data, increasing the number of columns and decreasing
the number of rows. This is a dependency-free base-R equivalent of
<code>tidyr::pivot_wider()</code>.
</p>


<h3>Usage</h3>

<pre>
data_to_wide(
  data,
  id_cols = NULL,
  values_from = "Value",
  names_from = "Name",
  names_sep = "_",
  names_prefix = "",
  names_glue = NULL,
  values_fill = NULL,
  verbose = TRUE,
  ...
)

reshape_wider(
  data,
  id_cols = NULL,
  values_from = "Value",
  names_from = "Name",
  names_sep = "_",
  names_prefix = "",
  names_glue = NULL,
  values_fill = NULL,
  verbose = TRUE,
  ...
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>A data frame to pivot.</p>
</td></tr>
<tr valign="top"><td><code>id_cols</code></td>
<td>
<p>The name of the column that identifies the rows. If <code>NULL</code>,
it will use all the unique rows.</p>
</td></tr>
<tr valign="top"><td><code>values_from</code></td>
<td>
<p>The name of the column that contains the values to be used
as future variable values.</p>
</td></tr>
<tr valign="top"><td><code>names_from</code></td>
<td>
<p>The name of the column that contains the levels to be
used as future column names.</p>
</td></tr>
<tr valign="top"><td><code>names_sep</code></td>
<td>
<p>If <code>names_from</code> or <code>values_from</code> contains multiple variables,
this will be used to join their values together into a single string to use
as a column name.</p>
</td></tr>
<tr valign="top"><td><code>names_prefix</code></td>
<td>
<p>String added to the start of every variable name. This is
particularly useful if <code>names_from</code> is a numeric vector and you want to create
syntactic variable names.</p>
</td></tr>
<tr valign="top"><td><code>names_glue</code></td>
<td>
<p>Instead of <code>names_sep</code> and <code>names_prefix</code>, you can supply a
<a href="https://glue.tidyverse.org/index.html">glue specification</a> that uses the
<code>names_from</code> columns to create custom column names. Note that the only
delimiters supported by <code>names_glue</code> are curly brackets, <code style="white-space: pre;">{</code> and <code style="white-space: pre;">}</code>.</p>
</td></tr>
<tr valign="top"><td><code>values_fill</code></td>
<td>
<p>Optionally, a (scalar) value that will be used to replace
missing values in the new columns created.</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>Toggle warnings.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Not used for now.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a tibble was provided as input, <code>reshape_wider()</code> also returns a
tibble. Otherwise, it returns a data frame.
</p>


<h3>See Also</h3>


<ul>
<li><p> Functions to rename stuff: <code><a href="../../datawizard/help/data_rename.html">data_rename()</a></code>, <code><a href="../../datawizard/help/data_rename_rows.html">data_rename_rows()</a></code>, <code><a href="../../datawizard/help/data_addprefix.html">data_addprefix()</a></code>, <code><a href="../../datawizard/help/data_addsuffix.html">data_addsuffix()</a></code>
</p>
</li>
<li><p> Functions to reorder or remove columns: <code><a href="../../datawizard/help/data_reorder.html">data_reorder()</a></code>, <code><a href="../../datawizard/help/data_relocate.html">data_relocate()</a></code>, <code><a href="../../datawizard/help/data_remove.html">data_remove()</a></code>
</p>
</li>
<li><p> Functions to reshape, pivot or rotate data frames: <code><a href="../../datawizard/help/data_to_long.html">data_to_long()</a></code>, <code><a href="../../datawizard/help/data_to_wide.html">data_to_wide()</a></code>, <code><a href="../../datawizard/help/data_rotate.html">data_rotate()</a></code>
</p>
</li>
<li><p> Functions to recode data: <code><a href="../../datawizard/help/rescale.html">rescale()</a></code>, <code><a href="../../datawizard/help/reverse.html">reverse()</a></code>, <code><a href="../../datawizard/help/categorize.html">categorize()</a></code>, <code><a href="../../datawizard/help/recode_values.html">recode_values()</a></code>, <code><a href="../../datawizard/help/slide.html">slide()</a></code>
</p>
</li>
<li><p> Functions to standardize, normalize, rank-transform: <code><a href="../../datawizard/help/center.html">center()</a></code>, <code><a href="../../datawizard/help/standardize.html">standardize()</a></code>, <code><a href="../../datawizard/help/normalize.html">normalize()</a></code>, <code><a href="../../datawizard/help/ranktransform.html">ranktransform()</a></code>, <code><a href="../../datawizard/help/winsorize.html">winsorize()</a></code>
</p>
</li>
<li><p> Split and merge data frames: <code><a href="../../datawizard/help/data_partition.html">data_partition()</a></code>, <code><a href="../../datawizard/help/data_merge.html">data_merge()</a></code>
</p>
</li>
<li><p> Functions to find or select columns: <code><a href="../../datawizard/help/data_select.html">data_select()</a></code>, <code><a href="../../datawizard/help/data_find.html">data_find()</a></code>
</p>
</li>
<li><p> Functions to filter rows: <code><a href="../../datawizard/help/data_match.html">data_match()</a></code>, <code><a href="../../datawizard/help/data_filter.html">data_filter()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre>
data_long &lt;- read.table(header = TRUE, text = "
 subject sex condition measurement
       1   M   control         7.9
       1   M     cond1        12.3
       1   M     cond2        10.7
       2   F   control         6.3
       2   F     cond1        10.6
       2   F     cond2        11.1
       3   F   control         9.5
       3   F     cond1        13.1
       3   F     cond2        13.8
       4   M   control        11.5
       4   M     cond1        13.4
       4   M     cond2        12.9")


data_to_wide(
  data_long,
  id_cols = "subject",
  names_from = "condition",
  values_from = "measurement"
)

data_to_wide(
  data_long,
  id_cols = "subject",
  names_from = "condition",
  values_from = "measurement",
  names_prefix = "Var.",
  names_sep = "."
)

production &lt;- expand.grid(
  product = c("A", "B"),
  country = c("AI", "EI"),
  year = 2000:2014
)
production &lt;- data_filter(production, (product == "A" &amp; country == "AI") | product == "B")

production$production &lt;- rnorm(nrow(production))

data_to_wide(
  production,
  names_from = c("product", "country"),
  values_from = "production",
  names_glue = "prod_{product}_{country}"
)

</pre>

<hr /><div style="text-align: center;">[Package <em>datawizard</em> version 0.10.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
