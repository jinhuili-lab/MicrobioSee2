<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plot a ROC curve with ggplot2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for ggroc.roc {pROC}"><tr><td>ggroc.roc {pROC}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Plot a ROC curve with ggplot2
</h2>

<h3>Description</h3>

<p>This function plots a ROC curve with ggplot2.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'roc'
ggroc(data, legacy.axes = FALSE, ...)
## S3 method for class 'smooth.roc'
ggroc(data, legacy.axes = FALSE, ...)
## S3 method for class 'list'
ggroc(data, aes = c("colour", "alpha", "linetype", "size", "group"),
      legacy.axes = FALSE, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>a roc object from the <a href="../../pROC/help/roc.html">roc</a> function, or a list of roc objects.
</p>
</td></tr>
<tr valign="top"><td><code>aes</code></td>
<td>
<p>the name(s) of the aesthetics for <code><a href="../../ggplot2/help/geom_path.html">geom_line</a></code> 
to map to the different ROC curves supplied. Use &ldquo;group&rdquo; if
you want the curves to appear with the same aestetic, for instance if you are 
faceting instead.
</p>
</td></tr>
<tr valign="top"><td><code>legacy.axes</code></td>
<td>
<p>a logical indicating if the specificity axis (x
axis) must be plotted as as decreasing &ldquo;specificity&rdquo;
(<code>FALSE</code>, the default) or increasing &ldquo;1 - specificity&rdquo;
(<code>TRUE</code>) as in most legacy software.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>additional aesthetics for <code><a href="../../ggplot2/help/geom_path.html">geom_line</a></code>
to set: <code>alpha</code>, <code>colour</code>, <code>linetype</code> and <code>size</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function initializes a ggplot object from a ROC curve (or multiple if a list is passed). It returns the ggplot with a line layer on it. You can print it directly or add your own layers and theme elements.
</p>


<h3>See Also</h3>

<p><code><a href="../../pROC/help/roc.html">roc</a></code>, <code><a href="../../pROC/help/plot.roc.html">plot.roc</a></code>, <span class="pkg"><a href="../../ggplot2/help/ggplot2-package.html">ggplot2</a></span>
</p>


<h3>Examples</h3>

<pre>
# Create a basic roc object
data(aSAH)
rocobj &lt;- roc(aSAH$outcome, aSAH$s100b)
rocobj2 &lt;- roc(aSAH$outcome, aSAH$wfns)

if (require(ggplot2)) {
g &lt;- ggroc(rocobj)
g
# with additional aesthetics:
ggroc(rocobj, alpha = 0.5, colour = "red", linetype = 2, size = 2)

# You can then your own theme, etc.
g + theme_minimal() + ggtitle("My ROC curve") + 
    geom_segment(aes(x = 1, xend = 0, y = 0, yend = 1), color="grey", linetype="dashed")

# And change axis labels to FPR/FPR
gl &lt;- ggroc(rocobj, legacy.axes = TRUE)
gl
gl + xlab("FPR") + ylab("TPR") + 
    geom_segment(aes(x = 0, xend = 1, y = 0, yend = 1), color="darkgrey", linetype="dashed")

# Multiple curves:
g2 &lt;- ggroc(list(s100b=rocobj, wfns=rocobj2, ndka=roc(aSAH$outcome, aSAH$ndka)))
g2

# This is equivalent to using roc.formula:
roc.list &lt;- roc(outcome ~ s100b + ndka + wfns, data = aSAH)
g.list &lt;- ggroc(roc.list)
g.list

# You can change the aesthetics as you normally would with ggplot2:
g.list + scale_colour_brewer(palette="RdGy")
g.list + scale_colour_manual(values = c("red", "blue", "black"))

# with additional aesthetics:
g3 &lt;- ggroc(roc.list, linetype=2)
g3
g4 &lt;- ggroc(roc.list, aes="linetype", color="red")
g4
# changing multiple aesthetics:
g5 &lt;- ggroc(roc.list, aes=c("linetype", "color"))
g5

# OR faceting
g.list + facet_grid(.~name) + theme(legend.position="none")
# To have all the curves of the same color, use aes="group":
g.group &lt;- ggroc(roc.list, aes="group")
g.group
g.group + facet_grid(.~name)
}
</pre>

<hr /><div style="text-align: center;">[Package <em>pROC</em> version 1.18.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
