<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Calculation of the source dose rate via the date of...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for calc_SourceDoseRate {Luminescence}"><tr><td>calc_SourceDoseRate {Luminescence}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Calculation of the source dose rate via the date of measurement</h2>

<h3>Description</h3>

<p>Calculating the dose rate of the irradiation source via the date of
measurement based on: source calibration date, source dose rate, dose rate
error. The function returns a data.frame that provides the input argument
dose_rate for the function <a href="../../Luminescence/help/Second2Gray.html">Second2Gray</a>.
</p>


<h3>Usage</h3>

<pre>
calc_SourceDoseRate(
  measurement.date = Sys.Date(),
  calib.date,
  calib.dose.rate,
  calib.error,
  source.type = "Sr-90",
  dose.rate.unit = "Gy/s",
  predict = NULL
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>measurement.date</code></td>
<td>
<p><a href="../../base/html/character.html">character</a> or <a href="../../base/html/Dates.html">Date</a> (with default): Date of measurement in <code>"YYYY-MM-DD"</code>.
If no value is provided, the date will be set to today. The argument can be provided as vector.</p>
</td></tr>
<tr valign="top"><td><code>calib.date</code></td>
<td>
<p><a href="../../base/html/character.html">character</a> or <a href="../../base/html/Dates.html">Date</a> (<strong>required</strong>):
date of source calibration in <code>"YYYY-MM-DD"</code></p>
</td></tr>
<tr valign="top"><td><code>calib.dose.rate</code></td>
<td>
<p><a href="../../base/html/numeric.html">numeric</a> (<strong>required</strong>):
dose rate at date of calibration in Gy/s or Gy/min</p>
</td></tr>
<tr valign="top"><td><code>calib.error</code></td>
<td>
<p><a href="../../base/html/numeric.html">numeric</a> (<strong>required</strong>):
error of dose rate at date of calibration Gy/s or Gy/min</p>
</td></tr>
<tr valign="top"><td><code>source.type</code></td>
<td>
<p><a href="../../base/html/character.html">character</a> (<em>with default</em>):
specify irradiation source (<code>Sr-90</code>, <code>Co-60</code>, <code>Cs-137</code>, <code>Am-214</code>),
see details for further information</p>
</td></tr>
<tr valign="top"><td><code>dose.rate.unit</code></td>
<td>
<p><a href="../../base/html/character.html">character</a> (<em>with default</em>):
specify dose rate unit for input (<code>Gy/min</code> or <code>Gy/s</code>), the output is given in
Gy/s as valid for the function <a href="../../Luminescence/help/Second2Gray.html">Second2Gray</a></p>
</td></tr>
<tr valign="top"><td><code>predict</code></td>
<td>
<p><a href="../../base/html/integer.html">integer</a> (<em>with default</em>):
option allowing to predict the dose rate of the source over time in days
set by the provided value. Starting date is the value set with
<code>measurement.date</code>, e.g., <code>calc_SourceDoseRate(..., predict = 100)</code> calculates
the source dose rate for the next 100 days.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculation of the source dose rate based on the time elapsed since the last
calibration of the irradiation source. Decay parameters assume a Sr-90 beta
source. </p>
<p style="text-align: center;"><i>dose.rate = D0 * exp(-log(2) / T.1/2 * t)</i></p>
 <p><br /> with: D0 &lt;-
calibration dose rate T.1/2 &lt;- half-life of the source nuclide (here in
days) t &lt;- time since source calibration (in days) log(2) / T.1/2 equals the
decay constant lambda
</p>
<p>Information on the date of measurements may be taken from the data's
original .BIN file (using e.g., <code>BINfile &lt;- readBIN2R()</code> and the slot
<code>BINfile@METADATA$DATE</code>)
</p>
<p><strong>Allowed source types and related values</strong>
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: right;">
<strong>#</strong> </td><td style="text-align: left;"> <strong>Source type</strong> </td><td style="text-align: left;"> <strong>T.1/2</strong> </td><td style="text-align: left;"> <strong>Reference</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
<code style="white-space: pre;">[1]</code> </td><td style="text-align: left;"> Sr-90 </td><td style="text-align: left;"> 28.90 y </td><td style="text-align: left;"> NNDC, Brookhaven National Laboratory </td>
</tr>
<tr>
 <td style="text-align: right;">
<code style="white-space: pre;">[2]</code></td><td style="text-align: left;"> Am-214 </td><td style="text-align: left;"> 432.6 y </td><td style="text-align: left;"> NNDC, Brookhaven National Laboratory </td>
</tr>
<tr>
 <td style="text-align: right;">
<code style="white-space: pre;">[3]</code> </td><td style="text-align: left;"> Co-60 </td><td style="text-align: left;"> 5.274 y </td><td style="text-align: left;"> NNDC, Brookhaven National Laboratory </td>
</tr>
<tr>
 <td style="text-align: right;">
<code style="white-space: pre;">[4</code> </td><td style="text-align: left;"> Cs-137 </td><td style="text-align: left;"> 30.08 y </td><td style="text-align: left;"> NNDC, Brookhaven National Laboratory</td>
</tr>

</table>



<h3>Value</h3>

<p>Returns an S4 object of type <a href="../../Luminescence/help/RLum.Results-class.html">RLum.Results</a>.
Slot <code>data</code> contains a <a href="../../base/html/list.html">list</a> with the following structure:</p>
<pre>$ dose.rate (data.frame)
.. $ dose.rate
.. $ dose.rate.error
.. $ date (corresponding measurement date)
$ parameters (list)
.. $ source.type
.. $ halflife
.. $ dose.rate.unit
$ call (the original function call)
</pre>
<p>The output should be accessed using the function <a href="../../Luminescence/help/get_RLum.html">get_RLum</a>.<br />
A plot method of the output is provided via <a href="../../Luminescence/help/plot_RLum.html">plot_RLum</a>
</p>


<h3>Function version</h3>

<p>0.3.2
</p>


<h3>How to cite</h3>

<p>Fuchs, M.C., Kreutzer, S., 2021. calc_SourceDoseRate(): Calculation of the source dose rate via the date of measurement. Function version 0.3.2. In: Kreutzer, S., Burow, C., Dietze, M., Fuchs, M.C., Schmidt, C., Fischer, M., Friedrich, J., Mercier, N., Philippe, A., Riedesel, S., Autzen, M., Mittelstrass, D., Gray, H.J., 2021. Luminescence: Comprehensive Luminescence Dating Data Analysis. R package version 0.9.15. https://CRAN.R-project.org/package=Luminescence
</p>


<h3>Note</h3>

<p>Please be careful when using the option <code>predict</code>, especially when a multiple set
for <code>measurement.date</code> and <code>calib.date</code> is provided. For the source dose rate prediction
the function takes the last value <code>measurement.date</code> and predicts from that the the source
source dose rate for the number of days requested,
means: the (multiple) original input will be replaced. However, the function
do not change entries for the calibration dates, but mix them up. Therefore,
it is not recommended to use this option when multiple calibration dates (<code>calib.date</code>)
are provided.
</p>


<h3>Author(s)</h3>

<p>Margret C. Fuchs, HZDR, Helmholtz-Institute Freiberg for Resource Technology (Germany) <br />
Sebastian Kreutzer, Geography &amp; Earth Sciences, Aberystwyth University (United Kingdom)
, RLum Developer Team</p>


<h3>References</h3>

<p>NNDC, Brookhaven National Laboratory <code style="white-space: pre;">http://www.nndc.bnl.gov/</code>
</p>


<h3>See Also</h3>

<p><a href="../../Luminescence/help/Second2Gray.html">Second2Gray</a>, <a href="../../Luminescence/help/get_RLum.html">get_RLum</a>, <a href="../../Luminescence/help/plot_RLum.html">plot_RLum</a>
</p>


<h3>Examples</h3>

<pre>


##(1) Simple function usage
##Basic calculation of the dose rate for a specific date
dose.rate &lt;-  calc_SourceDoseRate(measurement.date = "2012-01-27",
                                  calib.date = "2014-12-19",
                                  calib.dose.rate = 0.0438,
                                  calib.error = 0.0019)

##show results
get_RLum(dose.rate)

##(2) Usage in combination with another function (e.g., Second2Gray() )
## load example data
data(ExampleData.DeValues, envir = environment())

## use the calculated variable dose.rate as input argument
## to convert De(s) to De(Gy)
Second2Gray(ExampleData.DeValues$BT998, dose.rate)

##(3) source rate prediction and plotting
dose.rate &lt;-  calc_SourceDoseRate(measurement.date = "2012-01-27",
                                  calib.date = "2014-12-19",
                                  calib.dose.rate = 0.0438,
                                  calib.error = 0.0019,
                                  predict = 1000)
plot_RLum(dose.rate)


##(4) export output to a LaTeX table (example using the package 'xtable')
## Not run: 
xtable::xtable(get_RLum(dose.rate))


## End(Not run)

</pre>

<hr /><div style="text-align: center;">[Package <em>Luminescence</em> version 0.9.15 <a href="00Index.html">Index</a>]</div>
</div></body></html>
