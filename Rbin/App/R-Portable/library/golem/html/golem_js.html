<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Interact with JavaScript built-in Functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for activate_js {golem}"><tr><td>activate_js {golem}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Interact with JavaScript built-in Functions</h2>

<h3>Description</h3>

<p><code>activate_js</code> is used to insert directly some JavaScript functions in your golem.
By default <code>bundle_ressources()</code> load these function  automatically for you.
</p>


<h3>Usage</h3>

<pre>
activate_js()

invoke_js(fun, ..., session = shiny::getDefaultReactiveDomain())
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>fun</code></td>
<td>
<p>JS function to be invoked.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>JSON-like messages to be sent to the triggered JS function</p>
</td></tr>
<tr valign="top"><td><code>session</code></td>
<td>
<p>The shiny session within which to call <code>sendCustomMessage</code>.
</p>

<dl>
<dt>show</dt><dd><p>Show an element with the jQuery selector provided. Example: <code>golem::invoke_js("show", "#id");</code>.</p>
</dd>
<dt>hide</dt><dd><p>Hide an element with the jQuery selector provided. Example: <code>golem::invoke_js("hide", "#id")</code>.</p>
</dd>
<dt>showid</dt><dd><p>Show an element with the id provided. Example: <code>golem::invoke_js("showid", "id")</code>.</p>
</dd>
<dt>hideid</dt><dd><p>Hide an element with the id provided. Example: <code>golem::invoke_js("hideid", "id")</code>.</p>
</dd>
<dt>showclass</dt><dd><p>Same as showid, but with class. Example: <code>golem::invoke_js("showclass", "someClass")</code>.</p>
</dd>
<dt>hideclass</dt><dd><p>Same as hideid, but with class. Example: <code>golem::invoke_js("hideclass", "someClass")</code>.</p>
</dd>
<dt>showhref</dt><dd><p>Same as showid, but with <code style="white-space: pre;">a[href*=</code>. Example: <code>golem::invoke_js("showhref", "thinkr.fr")</code>.</p>
</dd>
<dt>hidehref</dt><dd><p>Same as hideid, but with <code style="white-space: pre;">a[href*=</code>. Example: <code>golem::invoke_js("hidehref", "thinkr.fr")</code>.</p>
</dd>
<dt>clickon</dt><dd><p>Click on an element. The full jQuery selector has to be used. Example: <code>golem::invoke_js("clickon", "#id")</code>.</p>
</dd>
<dt>disable</dt><dd><p>Add &quot;disabled&quot; to an element. The full jQuery selector has to be used. Example: <code>golem::invoke_js("disable", ".someClass")</code>.</p>
</dd>
<dt>reable</dt><dd><p>Remove &quot;disabled&quot; from an element. The full jQuery selector has to be used. Example: <code>golem::invoke_js("reable", ".someClass")</code>.</p>
</dd>
<dt>alert</dt><dd><p>Open an alert box with the message(s) provided. Example: <code>golem::invoke_js("alert", "WELCOME TO MY APP");</code>.</p>
</dd>
<dt>prompt</dt><dd><p>Open a prompt box with the message(s) provided. This function takes
a list with message and id <code>list(message = "", id = "")</code>. The output of the prompt
will be sent to <code>input$id</code>. Example: <code> golem::invoke_js("prompt", list(message ="what's your name?", id  = "name") )</code>.</p>
</dd>
<dt>confirm</dt><dd><p>Open a confirm box with the message provided. This function takes
a list with message and id <code>list(message = "", id = "")</code>. The output of the prompt
will be sent to <code>input$id</code>. Example: <code> golem::invoke_js("confirm", list(message ="Are you sure you want to do that?", id  = "name") )</code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>These JavaScript functions can be called from
the server with <code>invoke_js</code>. <code>invoke_js</code> can also be used
to launch any JS function created inside a Shiny JavaScript handler.
</p>


<h3>Value</h3>

<p>Used for side-effects.
</p>


<h3>Examples</h3>

<pre>
if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(
    golem::activate_js(), # already loaded in your golem by `bundle_resources()`
    fluidRow(
      actionButton(inputId = "hidebutton1", label = "hide button1"),
      actionButton(inputId = "showbutton1", label = "show button1"),
      actionButton(inputId = "button1", label = "button1")
    ),
    fluidRow(
      actionButton(inputId = "hideclassA", label = "hide class A"),
      actionButton(inputId = "showclassA", label = "show class A"),
      actionButton(inputId = "buttonA1", label = "button A1", class = "A"),
      actionButton(inputId = "buttonA2", label = "button A2", class = "A"),
      actionButton(inputId = "buttonA3", label = "button A3", class = "A")
    ),
    fluidRow(
      actionButton(inputId = "clickhide", label = "click on 'hide button1' and 'hide class A'"),
      actionButton(inputId = "clickshow", label = "click on 'show button1' and 'show class A'")
    ),
    fluidRow(
      actionButton(inputId = "disableA", label = "disable class A"),
      actionButton(inputId = "reableA", label = "reable class A")
    ),
    fluidRow(
      actionButton(inputId = "alertbutton", label = "alert button"),
      actionButton(inputId = "promptbutton", label = "prompt button"),
      actionButton(inputId = "confirmbutton", label = "confirm button")
    )
  )

  server &lt;- function(input, output, session) {
    observeEvent(input$hidebutton1, {
      golem::invoke_js("hideid", "button1")
    })

    observeEvent(input$showbutton1, {
      golem::invoke_js("showid", "button1")
    })

    observeEvent(input$hideclassA, {
      golem::invoke_js("hideclass", "A")
    })
    observeEvent(input$showclassA, {
      golem::invoke_js("showclass", "A")
    })

    observeEvent(input$clickhide, {
      golem::invoke_js("clickon", "#hidebutton1")
      golem::invoke_js("clickon", "#hideclassA")
    })

    observeEvent(input$clickshow, {
      golem::invoke_js("clickon", "#showbutton1")
      golem::invoke_js("clickon", "#showclassA")
    })

    observeEvent(input$disableA, {
      golem::invoke_js("disable", ".A")
    })
    observeEvent(input$reableA, {
      golem::invoke_js("reable", ".A")
    })

    observeEvent(input$alertbutton, {
      golem::invoke_js("alert", "ALERT!!")
    })

    observeEvent(input$promptbutton, {
      golem::invoke_js("prompt", list(message = "what's your name?", id = "name"))
    })
    observeEvent(input$name, {
      message(paste("input$name", input$name))
    })

    observeEvent(input$confirmbutton, {
      golem::invoke_js("confirm", list(message = "Are you sure?", id = "sure"))
    })
    observeEvent(input$sure, {
      message(paste("input$sure", input$sure))
    })
  }
  shinyApp(ui, server)
}
</pre>

<hr /><div style="text-align: center;">[Package <em>golem</em> version 0.4.1 <a href="00Index.html">Index</a>]</div>
</div></body></html>
