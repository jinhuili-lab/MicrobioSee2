<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Display magnitude/direction vectors</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for vectorField {plotrix}"><tr><td>vectorField {plotrix}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Display magnitude/direction vectors</h2>

<h3>Description</h3>

<p>Display magnitude/direction vectors as arrows on an existing plot.</p>


<h3>Usage</h3>

<pre>

vectorField(u,v,xpos=NA,ypos=NA,scale=1,headspan=0.1,
 vecspec=c("lonlat","rad","deg"),col=par("fg"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>u,v</code></td>
<td>
<p>x (longitude) and y (latitude) offsets OR
orientation and magnitude in either radians or degrees. See details.</p>
</td></tr>
<tr valign="top"><td><code>xpos,ypos</code></td>
<td>
<p>The centers of the vectors in user units.</p>
</td></tr>
<tr valign="top"><td><code>scale</code></td>
<td>
<p>The proportion of each cell that the maximal vector will fill.
See details.</p>
</td></tr>
<tr valign="top"><td><code>headspan</code></td>
<td>
<p>The extent of the heads of the arrows as a proportion of
cell size.</p>
</td></tr>
<tr valign="top"><td><code>vecspec</code></td>
<td>
<p>How the vectors are described. See details</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>Color(s) for the arrows.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><span class="samp">vectorField</span> displays arrows on an existing plot. Each arrow is specified
by a position on the plot <span class="samp">xpos,ypos</span> and either x/y offsets or
orientation and magnitude. The default is x/y offsets, and the user must
specify whether radians or degrees are used if the orientation/magnitude option
is used.
</p>
<p>If the first four arguments are matrices, there must be no missing values. If
these arguments are vectors, the calculation of the scaling of the magnitudes
and length of the arrowheads may be slightly different.
</p>


<h3>Value</h3>

<p> nil </p>


<h3>Author(s)</h3>

<p>Jim Lemon (original code by Robin Hankin and Brian Ripley)</p>


<h3>See Also</h3>

<p><a href="../../graphics/html/arrows.html">arrows</a></p>


<h3>Examples</h3>

<pre>
 ## Not run: 
  # this requires the maps package, and just wouldn't pass check
  require(maps)
  map("world",xlim=c(110,155),ylim=c(-40,-10))
  par(xpd=TRUE)
  text(132,-5,"Approximate magnetic deviation - Australia",cex=1.5)
  par(xpd=FALSE)
  long&lt;-rep(seq(117.5,152.5,by=5),6)
  lat&lt;-rep(c(-12.5,-17.5,-22.5,-27.5,-32.5,-37.5),each=8)
  # just show the direction, don't have a magnitude difference
  mag&lt;-rep(1,48)
  devdeg&lt;-c(110,98,85,65,65,65,65,65,
   115,100,90,80,72,66,63,55,
   130,100,90,82,72,67,62,54,
   122,111,95,86,70,67,56,48,
   118,116,110,87,74,68,62,45,
   128,115,107,90,78,66,53,45)
  vectorField(devdeg,mag,long,lat,scale=0.7,vecspec="deg")
 
## End(Not run)
 # do a magnitude/direction plot with radians
 plot(1:10,type="n",main="Random vectors")
 mag&lt;-runif(100)+1
 dir&lt;-runif(100)*2*pi
 xpos&lt;-rep(1:10,10)
 ypos&lt;-rep(1:10,each=10)
 vectorcol&lt;-sample(colors(),100)
 vectorField(dir,mag,xpos,ypos,scale=0.8,vecspec="rad",col=vectorcol)
</pre>

<hr /><div style="text-align: center;">[Package <em>plotrix</em> version 3.8-2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
