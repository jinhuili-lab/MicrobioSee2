<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Summary of Bayesian multivariate-response mediation-models</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for mediation {bayestestR}"><tr><td>mediation {bayestestR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Summary of Bayesian multivariate-response mediation-models</h2>

<h3>Description</h3>

<p><code>mediation()</code> is a short summary for multivariate-response
mediation-models, i.e. this function computes average direct and average
causal mediation effects of multivariate response models.
</p>


<h3>Usage</h3>

<pre>
mediation(model, ...)

## S3 method for class 'brmsfit'
mediation(
  model,
  treatment,
  mediator,
  response = NULL,
  centrality = "median",
  ci = 0.95,
  method = "ETI",
  ...
)

## S3 method for class 'stanmvreg'
mediation(
  model,
  treatment,
  mediator,
  response = NULL,
  centrality = "median",
  ci = 0.95,
  method = "ETI",
  ...
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>model</code></td>
<td>
<p>A <code>brmsfit</code> or <code>stanmvreg</code> object.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr valign="top"><td><code>treatment</code></td>
<td>
<p>Character, name of the treatment variable (or direct effect)
in a (multivariate response) mediator-model. If missing, <code>mediation()</code>
tries to find the treatment variable automatically, however, this may fail.</p>
</td></tr>
<tr valign="top"><td><code>mediator</code></td>
<td>
<p>Character, name of the mediator variable in a (multivariate
response) mediator-model. If missing, <code>mediation()</code> tries to find the
treatment variable automatically, however, this may fail.</p>
</td></tr>
<tr valign="top"><td><code>response</code></td>
<td>
<p>A named character vector, indicating the names of the response
variables to be used for the mediation analysis. Usually can be <code>NULL</code>,
in which case these variables are retrieved automatically. If not <code>NULL</code>,
names should match the names of the model formulas,
<code>names(insight::find_response(model, combine = TRUE))</code>. This can be
useful if, for instance, the mediator variable used as predictor has a different
name from the mediator variable used as response. This might occur when the
mediator is transformed in one model, but used &quot;as is&quot; as response variable
in the other model. Example: The mediator <code>m</code> is used as response variable,
but the centered version <code>m_center</code> is used as mediator variable. The
second response variable (for the treatment model, with the mediator as
additional predictor), <code>y</code>, is not transformed. Then we could use
<code>response</code> like this: <code>mediation(model, response = c(m = "m_center", y = "y"))</code>.</p>
</td></tr>
<tr valign="top"><td><code>centrality</code></td>
<td>
<p>The point-estimates (centrality indices) to compute. Character
(vector) or list with one or more of these options: <code>"median"</code>, <code>"mean"</code>, <code>"MAP"</code>
(see <code><a href="../../bayestestR/help/map_estimate.html">map_estimate()</a></code>), <code>"trimmed"</code> (which is just <code>mean(x, trim = threshold)</code>),
<code>"mode"</code> or <code>"all"</code>.</p>
</td></tr>
<tr valign="top"><td><code>ci</code></td>
<td>
<p>Value or vector of probability of the CI (between 0 and 1)
to be estimated. Default to <code>0.95</code> (<code style="white-space: pre;">95%</code>).</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>
<p>Can be <a href="../../bayestestR/help/eti.html">&quot;ETI&quot;</a> (default), <a href="../../bayestestR/help/hdi.html">&quot;HDI&quot;</a>, <a href="../../bayestestR/help/bci.html">&quot;BCI&quot;</a>,
<a href="../../bayestestR/help/spi.html">&quot;SPI&quot;</a> or <a href="../../bayestestR/help/si.html">&quot;SI&quot;</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>mediation()</code> returns a data frame with information on the
<em>direct effect</em> (mean value of posterior samples from <code>treatment</code>
of the outcome model), <em>mediator effect</em> (mean value of posterior
samples from <code>mediator</code> of the outcome model), <em>indirect effect</em>
(mean value of the multiplication of the posterior samples from
<code>mediator</code> of the outcome model and the posterior samples from
<code>treatment</code> of the mediation model) and the total effect (mean
value of sums of posterior samples used for the direct and indirect
effect). The <em>proportion mediated</em> is the indirect effect divided
by the total effect.
</p>
<p>For all values, the <code style="white-space: pre;">89%</code> credible intervals are calculated by default.
Use <code>ci</code> to calculate a different interval.
</p>
<p>The arguments <code>treatment</code> and <code>mediator</code> do not necessarily
need to be specified. If missing, <code>mediation()</code> tries to find the
treatment and mediator variable automatically. If this does not work,
specify these variables.
</p>
<p>The direct effect is also called <em>average direct effect</em> (ADE),
the indirect effect is also called <em>average causal mediation effects</em>
(ACME). See also <em>Tingley et al. 2014</em> and <em>Imai et al. 2010</em>.
</p>


<h3>Value</h3>

<p>A data frame with direct, indirect, mediator and
total effect of a multivariate-response mediation-model, as well as the
proportion mediated. The effect sizes are median values of the posterior
samples (use <code>centrality</code> for other centrality indices).
</p>


<h3>Note</h3>

<p>There is an <code>as.data.frame()</code> method that returns the posterior
samples of the effects, which can be used for further processing in the
different <span class="pkg">bayestestR</span> package.
</p>


<h3>References</h3>


<ul>
<li><p> Imai, K., Keele, L. and Tingley, D. (2010) A General Approach to Causal
Mediation Analysis, Psychological Methods, Vol. 15, No. 4 (December), pp.
309-334.
</p>
</li>
<li><p> Tingley, D., Yamamoto, T., Hirose, K., Imai, K. and Keele, L. (2014).
mediation: R package for Causal Mediation Analysis, Journal of Statistical
Software, Vol. 59, No. 5, pp. 1-38.
</p>
</li></ul>



<h3>See Also</h3>

<p>The <span class="pkg">mediation</span> package for a causal mediation analysis in
the frequentist framework.
</p>


<h3>Examples</h3>

<pre>


library(mediation)
library(brms)
library(rstanarm)

# load sample data
data(jobs)
set.seed(123)

# linear models, for mediation analysis
b1 &lt;- lm(job_seek ~ treat + econ_hard + sex + age, data = jobs)
b2 &lt;- lm(depress2 ~ treat + job_seek + econ_hard + sex + age, data = jobs)
# mediation analysis, for comparison with Stan models
m1 &lt;- mediate(b1, b2, sims = 1000, treat = "treat", mediator = "job_seek")

# Fit Bayesian mediation model in brms
f1 &lt;- bf(job_seek ~ treat + econ_hard + sex + age)
f2 &lt;- bf(depress2 ~ treat + job_seek + econ_hard + sex + age)
m2 &lt;- brm(f1 + f2 + set_rescor(FALSE), data = jobs, refresh = 0)

# Fit Bayesian mediation model in rstanarm
m3 &lt;- suppressWarnings(stan_mvmer(
  list(
    job_seek ~ treat + econ_hard + sex + age + (1 | occp),
    depress2 ~ treat + job_seek + econ_hard + sex + age + (1 | occp)
  ),
  data = jobs,
  refresh = 0
))

summary(m1)
mediation(m2, centrality = "mean", ci = 0.95)
mediation(m3, centrality = "mean", ci = 0.95)


</pre>

<hr /><div style="text-align: center;">[Package <em>bayestestR</em> version 0.13.2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
