<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Compute Support Intervals</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for si {bayestestR}"><tr><td>si {bayestestR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Compute Support Intervals</h2>

<h3>Description</h3>

<p>A support interval contains only the values of the parameter that predict the observed data better
than average, by some degree <em>k</em>; these are values of the parameter that are associated with an
updating factor greater or equal than <em>k</em>. From the perspective of the Savage-Dickey Bayes factor, testing
against a point null hypothesis for any value within the support interval will yield a Bayes factor smaller
than <em>1/k</em>.
</p>


<h3>Usage</h3>

<pre>
si(posterior, ...)

## S3 method for class 'numeric'
si(posterior, prior = NULL, BF = 1, verbose = TRUE, ...)

## S3 method for class 'stanreg'
si(
  posterior,
  prior = NULL,
  BF = 1,
  verbose = TRUE,
  effects = c("fixed", "random", "all"),
  component = c("location", "conditional", "all", "smooth_terms", "sigma", "auxiliary",
    "distributional"),
  parameters = NULL,
  ...
)

## S3 method for class 'brmsfit'
si(
  posterior,
  prior = NULL,
  BF = 1,
  verbose = TRUE,
  effects = c("fixed", "random", "all"),
  component = c("location", "conditional", "all", "smooth_terms", "sigma", "auxiliary",
    "distributional"),
  parameters = NULL,
  ...
)

## S3 method for class 'blavaan'
si(
  posterior,
  prior = NULL,
  BF = 1,
  verbose = TRUE,
  effects = c("fixed", "random", "all"),
  component = c("location", "conditional", "all", "smooth_terms", "sigma", "auxiliary",
    "distributional"),
  parameters = NULL,
  ...
)

## S3 method for class 'emmGrid'
si(posterior, prior = NULL, BF = 1, verbose = TRUE, ...)

## S3 method for class 'get_predicted'
si(
  posterior,
  prior = NULL,
  BF = 1,
  use_iterations = FALSE,
  verbose = TRUE,
  ...
)

## S3 method for class 'data.frame'
si(posterior, prior = NULL, BF = 1, verbose = TRUE, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>posterior</code></td>
<td>
<p>A numerical vector, <code>stanreg</code> / <code>brmsfit</code> object,
<code>emmGrid</code> or a data frame - representing a posterior distribution(s)
from (see 'Details').</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Arguments passed to and from other methods. (Can be used to pass
arguments to internal <code><a href="../../logspline/help/logspline.html">logspline::logspline()</a></code>.)</p>
</td></tr>
<tr valign="top"><td><code>prior</code></td>
<td>
<p>An object representing a prior distribution (see 'Details').</p>
</td></tr>
<tr valign="top"><td><code>BF</code></td>
<td>
<p>The amount of support required to be included in the support interval.</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>Toggle off warnings.</p>
</td></tr>
<tr valign="top"><td><code>effects</code></td>
<td>
<p>Should results for fixed effects, random effects or both be
returned? Only applies to mixed models. May be abbreviated.</p>
</td></tr>
<tr valign="top"><td><code>component</code></td>
<td>
<p>Should results for all parameters, parameters for the
conditional model or the zero-inflated part of the model be returned? May
be abbreviated. Only applies to <span class="pkg">brms</span>-models.</p>
</td></tr>
<tr valign="top"><td><code>parameters</code></td>
<td>
<p>Regular expression pattern that describes the parameters
that should be returned. Meta-parameters (like <code>lp__</code> or <code>prior_</code>) are
filtered by default, so only parameters that typically appear in the
<code>summary()</code> are returned. Use <code>parameters</code> to select specific parameters
for the output.</p>
</td></tr>
<tr valign="top"><td><code>use_iterations</code></td>
<td>
<p>Logical, if <code>TRUE</code> and <code>x</code> is a <code>get_predicted</code> object,
(returned by <code><a href="../../insight/help/get_predicted.html">insight::get_predicted()</a></code>), the function is applied to the
iterations instead of the predictions. This only applies to models that return
iterations for predicted values (e.g., <code>brmsfit</code> models).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>For more info, in particular on specifying correct priors for factors with more than 2 levels,
see <a href="https://easystats.github.io/bayestestR/articles/bayes_factors.html">the Bayes factors vignette</a>.</strong>
</p>
<p>This method is used to compute support intervals based on prior and posterior distributions.
For the computation of support intervals, the model priors must be proper priors (at the very least
they should be <em>not flat</em>, and it is preferable that they be <em>informative</em> - note
that by default, <code>brms::brm()</code> uses flat priors for fixed-effects; see example below).
</p>


<h3>Value</h3>

<p>A data frame containing the lower and upper bounds of the SI.
</p>
<p>Note that if the level of requested support is higher than observed in the data, the
interval will be <code style="white-space: pre;">[NA,NA]</code>.
</p>


<h3>Choosing a value of <code>BF</code></h3>

<p>The choice of <code>BF</code> (the level of support) depends on what we want our interval
to represent:
</p>

<ul>
<li><p> A <code>BF</code> = 1 contains values whose credibility is not decreased by observing the data.
</p>
</li>
<li><p> A <code>BF</code> &gt; 1 contains values who received more impressive support from the data.
</p>
</li>
<li><p> A <code>BF</code> &lt; 1 contains values whose credibility has <em>not</em> been impressively
decreased by observing the data. Testing against values outside this interval
will produce a Bayes factor larger than 1/<code>BF</code> in support of the alternative.
E.g., if an SI (BF = 1/3) excludes 0, the Bayes factor against the point-null
will be larger than 3.
</p>
</li></ul>



<h3>Setting the correct <code>prior</code></h3>

<p>For the computation of Bayes factors, the model priors must be proper priors
(at the very least they should be <em>not flat</em>, and it is preferable that
they be <em>informative</em>); As the priors for the alternative get wider, the
likelihood of the null value(s) increases, to the extreme that for completely
flat priors the null is infinitely more favorable than the alternative (this
is called <em>the Jeffreys-Lindley-Bartlett paradox</em>). Thus, you should
only ever try (or want) to compute a Bayes factor when you have an informed
prior.
<br /><br />
(Note that by default, <code>brms::brm()</code> uses flat priors for fixed-effects;
See example below.)
<br /><br />
It is important to provide the correct <code>prior</code> for meaningful results.
</p>

<ul>
<li><p> When <code>posterior</code> is a numerical vector, <code>prior</code> should also be a numerical vector.
</p>
</li>
<li><p> When <code>posterior</code> is a <code>data.frame</code>, <code>prior</code> should also be a <code>data.frame</code>, with matching column order.
</p>
</li>
<li><p> When <code>posterior</code> is a <code>stanreg</code>, <code>brmsfit</code> or other supported Bayesian model: </p>

<ul>
<li> <p><code>prior</code> can be set to <code>NULL</code>, in which case prior samples are drawn internally.
</p>
</li>
<li> <p><code>prior</code> can also be a model equivalent to <code>posterior</code> but with samples from
the priors <em>only</em>. See <code><a href="../../bayestestR/help/unupdate.html">unupdate()</a></code>.
</p>
</li>
<li> <p><strong>Note:</strong> When <code>posterior</code> is a <code>brmsfit_multiple</code> model, <code>prior</code> <strong>must</strong> be provided.
</p>
</li></ul>

</li>
<li><p> When <code>posterior</code> is an <code>emmGrid</code> / <code>emm_list</code> object: </p>

<ul>
<li> <p><code>prior</code> should also be an <code>emmGrid</code> / <code>emm_list</code> object equivalent to <code>posterior</code> but
created with a model of priors samples <em>only</em>. See <code><a href="../../bayestestR/help/unupdate.html">unupdate()</a></code>.
</p>
</li>
<li> <p><code>prior</code> can also be the original (posterior) <em>model</em>. If so, the function will try to
update the <code>emmGrid</code> / <code>emm_list</code> to use the <code><a href="../../bayestestR/help/unupdate.html">unupdate()</a></code>d prior-model.
(<em>This cannot be done for <code>brmsfit</code> models.</em>)
</p>
</li>
<li> <p><strong>Note</strong>: When the <code>emmGrid</code> has undergone any transformations (<code>"log"</code>, <code>"response"</code>, etc.),
or <code>regrid</code>ing, then <code>prior</code> must be an <code>emmGrid</code> object, as stated above.
</p>
</li></ul>

</li></ul>



<h3>Note</h3>

<p>There is also a <a href="https://easystats.github.io/see/articles/bayestestR.html"><code>plot()</code>-method</a> implemented in the <a href="https://easystats.github.io/see/"><span class="pkg">see</span>-package</a>.
</p>


<h3>References</h3>

<p>Wagenmakers, E., Gronau, Q. F., Dablander, F., &amp; Etz, A. (2018, November 22).
The Support Interval. doi: <a href="https://doi.org/10.31234/osf.io/zwnxb">10.31234/osf.io/zwnxb</a>
</p>


<h3>See Also</h3>

<p>Other ci: 
<code><a href="../../bayestestR/help/bci.html">bci</a>()</code>,
<code><a href="../../bayestestR/help/ci.html">ci</a>()</code>,
<code><a href="../../bayestestR/help/cwi.html">cwi</a>()</code>,
<code><a href="../../bayestestR/help/eti.html">eti</a>()</code>,
<code><a href="../../bayestestR/help/hdi.html">hdi</a>()</code>,
<code><a href="../../bayestestR/help/spi.html">spi</a>()</code>
</p>


<h3>Examples</h3>

<pre>

library(bayestestR)

prior &lt;- distribution_normal(1000, mean = 0, sd = 1)
posterior &lt;- distribution_normal(1000, mean = 0.5, sd = 0.3)

si(posterior, prior, verbose = FALSE)

# rstanarm models
# ---------------
library(rstanarm)
contrasts(sleep$group) &lt;- contr.equalprior_pairs # see vignette
stan_model &lt;- stan_lmer(extra ~ group + (1 | ID), data = sleep)
si(stan_model, verbose = FALSE)
si(stan_model, BF = 3, verbose = FALSE)

# emmGrid objects
# ---------------
library(emmeans)
group_diff &lt;- pairs(emmeans(stan_model, ~group))
si(group_diff, prior = stan_model, verbose = FALSE)

# brms models
# -----------
library(brms)
contrasts(sleep$group) &lt;- contr.equalprior_pairs # see vingette
my_custom_priors &lt;-
  set_prior("student_t(3, 0, 1)", class = "b") +
  set_prior("student_t(3, 0, 1)", class = "sd", group = "ID")

brms_model &lt;- suppressWarnings(brm(extra ~ group + (1 | ID),
  data = sleep,
  prior = my_custom_priors,
  refresh = 0
))
si(brms_model, verbose = FALSE)


</pre>

<hr /><div style="text-align: center;">[Package <em>bayestestR</em> version 0.13.2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
