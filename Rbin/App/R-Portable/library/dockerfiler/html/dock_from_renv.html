<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a Dockerfile from an 'renv.lock' file</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for dock_from_renv {dockerfiler}"><tr><td>dock_from_renv {dockerfiler}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create a Dockerfile from an <code>renv.lock</code> file</h2>

<h3>Description</h3>

<p>Create a Dockerfile from an <code>renv.lock</code> file
</p>


<h3>Usage</h3>

<pre>
dock_from_renv(
  lockfile = "renv.lock",
  distro = "focal",
  FROM = "rocker/r-base",
  AS = NULL,
  sysreqs = TRUE,
  repos = c(CRAN = "https://cran.rstudio.com/"),
  expand = FALSE,
  extra_sysreqs = NULL,
  use_pak = FALSE,
  renv_version
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>lockfile</code></td>
<td>
<p>Path to an <code>renv.lock</code> file to use as an input..</p>
</td></tr>
<tr valign="top"><td><code>distro</code></td>
<td>
<p>One of &quot;focal&quot;, &quot;bionic&quot;, &quot;xenial&quot;, &quot;centos7&quot;,or &quot;centos8&quot;. See available distributions     at https://hub.docker.com/r/rstudio/r-base/.</p>
</td></tr>
<tr valign="top"><td><code>FROM</code></td>
<td>
<p>Docker image to start FROM Default is FROM rocker/r-base</p>
</td></tr>
<tr valign="top"><td><code>AS</code></td>
<td>
<p>The AS of the Dockerfile. Default it <code>NULL</code>.</p>
</td></tr>
<tr valign="top"><td><code>sysreqs</code></td>
<td>
<p>boolean. If <code>TRUE</code>, the Dockerfile will contain sysreq installation.</p>
</td></tr>
<tr valign="top"><td><code>repos</code></td>
<td>
<p>character. The URL(s) of the repositories to use for <code>options("repos")</code>.</p>
</td></tr>
<tr valign="top"><td><code>expand</code></td>
<td>
<p>boolean. If <code>TRUE</code> each system requirement will have its own <code>RUN</code> line.</p>
</td></tr>
<tr valign="top"><td><code>extra_sysreqs</code></td>
<td>
<p>character vector. Extra debian system requirements.
Will be installed with apt-get install.</p>
</td></tr>
<tr valign="top"><td><code>use_pak</code></td>
<td>
<p>boolean. If <code>TRUE</code> use pak to deal with dependencies  during <code>renv::restore()</code>. FALSE by default</p>
</td></tr>
<tr valign="top"><td><code>renv_version</code></td>
<td>
<p>character. The renv version to use in the generated Dockerfile. By default, it is set to the version specified in the <code>renv.lock</code> file.
If the <code>renv.lock</code> file does not specify a renv version,
the version of renv bundled with dockerfiler,
specifically 1.0.3, will be used.
If you set it to <code>NULL</code>, the latest available version of renv will be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>System requirements for packages are provided
through RStudio Package Manager via the pak
package. The install commands provided from pak
are added as <code>RUN</code> directives within the <code>Dockerfile</code>.
</p>
<p>The R version is taken from the <code>renv.lock</code> file.
Packages are installed using <code>renv::restore()</code> which ensures
that the proper package version and source is used when installed.
</p>


<h3>Value</h3>

<p>A R6 object of class <code>Dockerfile</code>.
</p>


<h3>Examples</h3>

<pre>
## Not run: 
dock &lt;- dock_from_renv("renv.lock", distro = "xenial")
dock$write("Dockerfile")

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>dockerfiler</em> version 0.2.2 <a href="00Index.html">Index</a>]</div>
</div></body></html>
