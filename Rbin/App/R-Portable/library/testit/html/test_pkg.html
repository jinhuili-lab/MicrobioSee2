<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Run the tests of a package in its namespace</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for test_pkg {testit}"><tr><td>test_pkg {testit}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Run the tests of a package in its namespace</h2>

<h3>Description</h3>

<p>The main purpose of this function is to expose the namespace of a package
when running tests, which allows one to use non-exported objects in the
package without having to resort to the triple colon <code><a href="../../base/html/ns-dblcolon.html">:::</a></code> trick.
</p>


<h3>Usage</h3>

<pre>
test_pkg(package, dir = c("testit", "tests/testit"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>package</code></td>
<td>
<p>the package name</p>
</td></tr>
<tr valign="top"><td><code>dir</code></td>
<td>
<p>the directory of the test files; by default, it is the directory
&lsquo;<span class="file">testit/</span>&rsquo; or &lsquo;<span class="file">tests/testit/</span>&rsquo; under the current working directory</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The tests are assumed to be under the &lsquo;<span class="file">testit/</span>&rsquo; or &lsquo;<span class="file">tests/testit/</span>&rsquo;
directory by default (depending on your working directory is the package root
directory or the &lsquo;<span class="file">tests/</span>&rsquo; directory). This function also looks for the
&lsquo;<span class="file">tests/testit/</span>&rsquo; directory under the package installation directory when
the user-provided <code>dir</code> does not exist. The test scripts must be named
of the form <span class="samp">test-*.R</span>; other R scripts will not be treated as test
files (but may also be useful, e.g. you can <code><a href="../../base/html/source.html">source</a>()</code> them in
tests).
</p>
<p>For <code>R CMD check</code>, this means the test R scripts (&lsquo;<span class="file">test-*.R</span>&rsquo; are
under &lsquo;<span class="file">pkg_root/tests/testit/</span>&rsquo;. The R scripts are executed with
<code><a href="../../base/html/sys.source.html">sys.source</a></code> in the namespace of the package to be tested; when
an R script is executed, the working directory is the same as the directory
containing this script, and all existing objects in the test environment will
be removed before the code is executed.
</p>


<h3>Value</h3>

<p><code>NULL</code>. All test files are executed, unless an error occurs.
</p>


<h3>Note</h3>

<p>All test scripts (<span class="samp">test-*.R</span>) must be encoded in UTF-8 if they
contain any multibyte characters.
</p>


<h3>See Also</h3>

<p>The <span class="pkg">testthat</span> package (much more sophisticated).
</p>


<h3>Examples</h3>

<pre>
## Not run: 
test_pkg("testit")

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>testit</em> version 0.13.1 <a href="00Index.html">Index</a>]</div>
</div></body></html>
