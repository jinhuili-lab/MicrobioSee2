<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Check for multicollinearity of model terms</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for check_collinearity {performance}"><tr><td>check_collinearity {performance}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Check for multicollinearity of model terms</h2>

<h3>Description</h3>

<p><code>check_collinearity()</code> checks regression models for
multicollinearity by calculating the variance inflation factor (VIF).
<code>multicollinearity()</code> is an alias for <code>check_collinearity()</code>.
<code>check_concurvity()</code> is a wrapper around <code>mgcv::concurvity()</code>, and can be
considered as a collinearity check for smooth terms in GAMs. Confidence
intervals for VIF and tolerance are based on Marcoulides et al.
(2019, Appendix B).
</p>


<h3>Usage</h3>

<pre>
check_collinearity(x, ...)

multicollinearity(x, ...)

## Default S3 method:
check_collinearity(x, ci = 0.95, verbose = TRUE, ...)

## S3 method for class 'glmmTMB'
check_collinearity(
  x,
  component = c("all", "conditional", "count", "zi", "zero_inflated"),
  ci = 0.95,
  verbose = TRUE,
  ...
)

check_concurvity(x, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>A model object (that should at least respond to <code>vcov()</code>,
and if possible, also to <code>model.matrix()</code> - however, it also should
work without <code>model.matrix()</code>).</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td></tr>
<tr valign="top"><td><code>ci</code></td>
<td>
<p>Confidence Interval (CI) level for VIF and tolerance values.</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>Toggle off warnings or messages.</p>
</td></tr>
<tr valign="top"><td><code>component</code></td>
<td>
<p>For models with zero-inflation component, multicollinearity
can be checked for the conditional model (count component,
<code>component = "conditional"</code> or <code>component = "count"</code>),
zero-inflation component (<code>component = "zero_inflated"</code> or
<code>component = "zi"</code>) or both components (<code>component = "all"</code>).
Following model-classes are currently supported: <code>hurdle</code>,
<code>zeroinfl</code>, <code>zerocount</code>, <code>MixMod</code> and <code>glmmTMB</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with information about name of the model term, the
variance inflation factor and associated confidence intervals, the factor
by which the standard error is increased due to possible correlation
with other terms, and tolerance values (including confidence intervals),
where <code>tolerance = 1/vif</code>.
</p>


<h3>Multicollinearity</h3>

<p>Multicollinearity should not be confused with a raw strong correlation
between predictors. What matters is the association between one or more
predictor variables, <em>conditional on the other variables in the
model</em>. In a nutshell, multicollinearity means that once you know the
effect of one predictor, the value of knowing the other predictor is rather
low. Thus, one of the predictors doesn't help much in terms of better
understanding the model or predicting the outcome. As a consequence, if
multicollinearity is a problem, the model seems to suggest that the
predictors in question don't seems to be reliably associated with the
outcome (low estimates, high standard errors), although these predictors
actually are strongly associated with the outcome, i.e. indeed might have
strong effect (<em>McElreath 2020, chapter 6.1</em>).
</p>
<p>Multicollinearity might arise when a third, unobserved variable has a causal
effect on each of the two predictors that are associated with the outcome.
In such cases, the actual relationship that matters would be the association
between the unobserved variable and the outcome.
</p>
<p>Remember: &quot;Pairwise correlations are not the problem. It is the conditional
associations - not correlations - that matter.&quot; (<em>McElreath 2020, p. 169</em>)
</p>


<h3>Interpretation of the Variance Inflation Factor</h3>

<p>The variance inflation factor is a measure to analyze the magnitude of
multicollinearity of model terms. A VIF less than 5 indicates a low
correlation of that predictor with other predictors. A value between 5 and
10 indicates a moderate correlation, while VIF values larger than 10 are a
sign for high, not tolerable correlation of model predictors (<em>James et al.
2013</em>). The <em>Increased SE</em> column in the output indicates how much larger
the standard error is due to the association with other predictors
conditional on the remaining variables in the model. Note that these
thresholds, although commonly used, are also criticized for being too high.
<em>Zuur et al. (2010)</em> suggest using lower values, e.g. a VIF of 3 or larger
may already no longer be considered as &quot;low&quot;.
</p>


<h3>Multicollinearity and Interaction Terms</h3>

<p>If interaction terms are included in a model, high VIF values are expected.
This portion of multicollinearity among the component terms of an
interaction is also called &quot;inessential ill-conditioning&quot;, which leads to
inflated VIF values that are typically seen for models with interaction
terms <em>(Francoeur 2013)</em>.
</p>


<h3>Concurvity for Smooth Terms in Generalized Additive Models</h3>

<p><code>check_concurvity()</code> is a wrapper around <code>mgcv::concurvity()</code>, and can be
considered as a collinearity check for smooth terms in GAMs.&quot;Concurvity
occurs when some smooth term in a model could be approximated by one or more
of the other smooth terms in the model.&quot; (see <code>?mgcv::concurvity</code>).
<code>check_concurvity()</code> returns a column named <em>VIF</em>, which is the &quot;worst&quot;
measure. While <code>mgcv::concurvity()</code> range between 0 and 1, the <em>VIF</em> value
is <code>1 / (1 - worst)</code>, to make interpretation comparable to classical VIF
values, i.e. <code>1</code> indicates no problems, while higher values indicate
increasing lack of identifiability. The <em>VIF proportion</em> column equals the
&quot;estimate&quot; column from <code>mgcv::concurvity()</code>, ranging from 0 (no problem) to
1 (total lack of identifiability).
</p>


<h3>Note</h3>

<p>The code to compute the confidence intervals for the VIF and tolerance
values was adapted from the Appendix B from the Marcoulides et al. paper.
Thus, credits go to these authors the original algorithm. There is also
a <a href="https://easystats.github.io/see/articles/performance.html"><code>plot()</code>-method</a>
implemented in the <a href="https://easystats.github.io/see/"><span class="pkg">see</span>-package</a>.
</p>


<h3>References</h3>


<ul>
<li><p> Francoeur, R. B. (2013). Could Sequential Residual Centering Resolve
Low Sensitivity in Moderated Regression? Simulations and Cancer Symptom
Clusters. Open Journal of Statistics, 03(06), 24-44.
</p>
</li>
<li><p> James, G., Witten, D., Hastie, T., and Tibshirani, R. (eds.). (2013).
An introduction to statistical learning: with applications in R. New York:
Springer.
</p>
</li>
<li><p> Marcoulides, K. M., and Raykov, T. (2019). Evaluation of Variance
Inflation Factors in Regression Models Using Latent Variable Modeling
Methods. Educational and Psychological Measurement, 79(5), 874–882.
</p>
</li>
<li><p> McElreath, R. (2020). Statistical rethinking: A Bayesian course with
examples in R and Stan. 2nd edition. Chapman and Hall/CRC.
</p>
</li>
<li><p> Vanhove, J. (2019). Collinearity isn't a disease that needs curing.
<a href="https://janhove.github.io/posts/2019-09-11-collinearity/">webpage</a>
</p>
</li>
<li><p> Zuur AF, Ieno EN, Elphick CS. A protocol for data exploration to avoid
common statistical problems: Data exploration. Methods in Ecology and
Evolution (2010) 1:3–14.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other functions to check model assumptions and and assess model quality: 
<code><a href="../../performance/help/check_autocorrelation.html">check_autocorrelation</a>()</code>,
<code><a href="../../performance/help/check_convergence.html">check_convergence</a>()</code>,
<code><a href="../../performance/help/check_heteroscedasticity.html">check_heteroscedasticity</a>()</code>,
<code><a href="../../performance/help/check_homogeneity.html">check_homogeneity</a>()</code>,
<code><a href="../../performance/help/check_model.html">check_model</a>()</code>,
<code><a href="../../performance/help/check_outliers.html">check_outliers</a>()</code>,
<code><a href="../../performance/help/check_overdispersion.html">check_overdispersion</a>()</code>,
<code><a href="../../performance/help/check_predictions.html">check_predictions</a>()</code>,
<code><a href="../../performance/help/check_singularity.html">check_singularity</a>()</code>,
<code><a href="../../performance/help/check_zeroinflation.html">check_zeroinflation</a>()</code>
</p>


<h3>Examples</h3>

<pre>
m &lt;- lm(mpg ~ wt + cyl + gear + disp, data = mtcars)
check_collinearity(m)


# plot results
x &lt;- check_collinearity(m)
plot(x)

</pre>

<hr /><div style="text-align: center;">[Package <em>performance</em> version 0.11.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
